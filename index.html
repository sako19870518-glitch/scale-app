<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>スケール算出</title>

<style>
body{
  font-family: system-ui, sans-serif;
  margin: 0; padding: 20px;
  background: #fafafa;
}
h1{margin:0 0 14px;font-size:20px;font-weight:700;}
input{
  width:100%; padding:10px; font-size:16px;
  margin-bottom:10px; border:1px solid #ccc; border-radius:8px;
}
button{
  width:100%; padding:12px; font-size:16px;
  border:none; border-radius:8px;
  background:#1976d2; color:#fff; font-weight:700;
  margin-top:6px; cursor:pointer;
}
.result{
  background:#fff; border:1px solid #ccc; border-radius:8px;
  padding:14px; margin-top:16px; font-size:18px;
}
#equation{font-size:18px;font-weight:700;color:#d32f2f;margin-top:10px;}
</style>
</head>

<body>
<h1>スケール計算</h1>

<label>基準点1 (x1, y1)</label>
<input id="x1" type="number" placeholder="x1">
<input id="y1" type="number" placeholder="y1">

<label>基準点2 (x2, y2)</label>
<input id="x2" type="number" placeholder="x2">
<input id="y2" type="number" placeholder="y2">

<label>測定値 (x)</label>
<input id="x" type="number" placeholder="測定値を入力">

<button onclick="calc()">計算</button>

<div class="result">
  <div id="equation">y = ax + b</div>
  <div id="ans"></div>
</div>

<script>
function calc(){
  const x1 = parseFloat(document.getElementById("x1").value);
  const y1 = parseFloat(document.getElementById("y1").value);
  const x2 = parseFloat(document.getElementById("x2").value);
  const y2 = parseFloat(document.getElementById("y2").value);
  const x  = parseFloat(document.getElementById("x").value);

  if([x1,y1,x2,y2,x].some(v => isNaN(v))){
    alert("数字を全部入力してください");
    return;
  }

  const a = (y2 - y1) / (x2 - x1);
  const b = y1 - a * x1;
  const y = a * x + b;

  // ✅ y = ax + b の形式を表示
  document.getElementById("equation").textContent =
    `y = ${a.toFixed(4)}x + ${b.toFixed(4)}`;

  // ✅ 計算結果
  document.getElementById("ans").textContent =
    `結果: y = ${y.toFixed(4)}`;
}
</script>

</body>
</html>
